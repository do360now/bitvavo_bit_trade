# ============================================================================
# BITVAVO API CREDENTIALS (REQUIRED)
# ============================================================================

BITVAVO_API_KEY=your_api_key_here
BITVAVO_API_SECRET=your_api_secret_here


# ============================================================================
# PORTFOLIO ALLOCATION (Optional - defaults shown)
# ============================================================================

# Percentage allocated to long-term holding
ALLOC_HODL=0.9

# Percentage allocated to staking/yield (not implemented yet)
ALLOC_YIELD=0.0

# Percentage allocated to active trading
ALLOC_TRADING=0.1

# Initial BTC balance for tracking (optional)
TOTAL_BTC=0.0


# ============================================================================
# TRADING LIMITS (Optional - defaults shown)
# ============================================================================

# Minimum BTC volume per trade
MIN_TRADE_VOLUME=0.0001

# Minimum EUR value per trade (Bitvavo minimum is â‚¬5)
MIN_EUR_FOR_TRADE=15.0

# Maximum % of portfolio to keep in EUR
MAX_CASH_ALLOCATION=0.8

# Maximum % of BTC to sell at once
MAX_SELL_ALLOCATION=0.5

# Minimum profit margin for sells (overridden by cycle strategy)
MIN_PROFIT_MARGIN=0.05


# ============================================================================
# TIMING & COOLDOWNS (Optional - defaults shown)
# ============================================================================

# Main loop interval in seconds (900 = 15 minutes)
SLEEP_DURATION=900

# Cooldown between trades in seconds (180 = 3 minutes)
GLOBAL_TRADE_COOLDOWN=180

# Balance cache duration in seconds (900 = 15 minutes)
BALANCE_CACHE_DURATION=900

# On-chain data cache duration in seconds
ONCHAIN_CACHE_DURATION=60


# ============================================================================
# CYCLE-AWARE TRADING (Optional - defaults shown)
# ============================================================================

# Enable cycle-aware strategy (true/false)
CYCLE_AWARE_ENABLED=true

# Current Bitcoin halving cycle (4 = 2024 halving)
CURRENT_CYCLE=4

# Base position size as % of available capital (before cycle adjustments)
# The cycle multiplier will adjust this (0.2x to 3.0x)
BASE_POSITION_PCT=0.10

# Allow cycle detector to dynamically adjust position sizes (true/false)
CYCLE_ADJUSTMENTS=true

# Minimum drawdown from ATH before buying (0.30 = 30%)
# Only buy when price is at least 30% down from peak
MIN_DRAWDOWN_FOR_BUY=0.30

# Drawdown threshold for aggressive accumulation (0.70 = 70%)
# Buy aggressively when 70%+ down from peak
AGGRESSIVE_ACCUMULATION_THRESHOLD=0.70

# Current cycle ATH in EUR (Oct 2025 peak)
CYCLE_ATH_EUR=114395

# Current cycle low in EUR (Nov 2022 bottom)
CYCLE_LOW_EUR=14069

# Override cycle-based stop losses with fixed % (true/false)
STOP_LOSS_OVERRIDE=false

# Fixed stop loss % if override enabled (0.05 = 5%)
FIXED_STOP_LOSS_PCT=0.05

# Print detailed cycle analysis every N iterations
PRINT_CYCLE_ANALYSIS_EVERY=10


# ============================================================================
# LEGACY TRADING PARAMETERS (Used if cycle-aware disabled)
# ============================================================================

# Use stop loss (true/false)
USE_STOP_LOSS=true

# Stop loss percentage (0.05 = 5%)
STOP_LOSS_PERCENT=0.05

# Use take profit (true/false)
USE_TAKE_PROFIT=true

# Take profit percentage (0.20 = 20%)
TAKE_PROFIT_PERCENT=0.20


# ============================================================================
# LOGGING (Optional - defaults shown)
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log file path
LOG_FILE=trading_bot.log


# ============================================================================
# FILE PATHS (Optional - defaults shown)
# ============================================================================

PRICE_HISTORY_FILE=./price_history.json
BOT_LOGS_FILE=./bot_logs.csv
BOT_STATE_FILE=./bot_state.json
ORDER_HISTORY_FILE=./order_history.json
PERFORMANCE_FILE=./performance_history.json
PENDING_UPDATES_FILE=./pending_updates.json


# ============================================================================
# BITCOIN NODE (Optional - for on-chain analysis)
# ============================================================================

# RPC_USER=your_bitcoin_node_user
# RPC_PASSWORD=your_bitcoin_node_password
# RPC_HOST=127.0.0.1
# RPC_PORT=8332


# ============================================================================
# ADVANCED FEATURES (Optional - mostly disabled by default)
# ============================================================================

# Enhanced risk management
ENABLE_DYNAMIC_STOPS=true
BASE_STOP_LOSS_PCT=0.03
MAX_RISK_OFF_THRESHOLD=0.6
HIGH_VOLATILITY_THRESHOLD=0.05

# News monitoring (requires API keys)
ENHANCED_NEWS_ENABLED=false
NEWS_CACHE_MINUTES=30
MAX_NEWS_ARTICLES=20

# Market correlation monitoring
ENABLE_CORRELATION_MONITORING=false
CORRELATION_LOOKBACK_DAYS=30

# LLM integration (requires Ollama running locally)
OLLAMA_URL=http://localhost:11434/api/generate
MODEL_NAME=gemma3:4b
LLM_TIMEOUT_SECONDS=30

# Yahoo Finance for correlation data
YAHOO_FINANCE_ENABLED=false
